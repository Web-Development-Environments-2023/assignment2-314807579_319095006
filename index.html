<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
        <link rel="stylesheet" href="styles.css">
        <link rel="icon" href="logo.jpg" type="image/png">
		<title>Chicken Invaders</title>
        <style type = "text/css">
         canvas{ border: 1px solid black; }
        </style>
        <script src="chicken.js"></script>
	</head>
	<body>
        <div ALIGN="center">
        </div>
        <div id="menu">
            <nav>
                <ul>
                    <li onclick="welcome()">Home</li>
                    <li onclick="login()">Login</li>
                    <li onclick="about()">About</li>
                    <li onclick="signup()">Sign up</li>
                </ul>
            </nav>
            <script>
                
            </script>
        </div>
        <content> 
            <div id="welcome page" ALIGN="center">
                <h1>Welcome to Chicken Invaders!</h1>
                <h4 style="align-items: center;">Or Fuchs 319095006, Amit Vitkovsky 314807579</h4>
                <button id="Login " onclick=login() >Login</button>
                <button id="sign up" onclick="signup()">Sign Up</button>
                <h1><image src="images/BigChickenCIU.webp" alt="chicken" width="200" height="200"></h1>
                <script>
                    
                </script>
            </div>

            <div id="login page" style="display: none;" >
                <h1>Login</h1>
                <form name="loginForm" onsubmit="return valid(event)">
                    <label for="in_username">Username:</label>
                    <input type="text" id="in_username" name="in_username" required><br><br>
                    <label for="in_password">Password:</label>
                    <input type="password" id="in_password" name="in_password" required><br><br>
                    <input type="submit" value="Submit" > 
                </form>
                <button id="back" onclick="back()">Back</button>
                <script>
                    function back(){
                        document.getElementById("login page").style.display = "none";
                        document.getElementById("welcome page").style.display = "block";
                    }
            
                    function valid(event)
                    {
                        event.preventDefault();
                        var username = document.getElementById("in_username").value;
                        var password = document.getElementById("in_password").value;
                        for (var i = 0; i < validCredentials.length; i++) {
                            if (username === validCredentials[i].username && password === validCredentials[i].password) {
                                document.getElementById("login page").style.display="none";
                                document.getElementById("game page").style.display="none";
                                document.getElementById("theCanvas").style.display="none";
                                document.getElementById("welcome page").style.display="none";
                                document.getElementById("about").style.display = "none";
                                document.getElementById("configuration").style.display="block";
                                document.addEventListener("keydown", config);
                                return;
                            }
                        }
                        alert("Invalid username or password");
                        return;
                    }
                </script>
            </div>

            <div id="sign up page" style="display:none;">
                <h1>Sign Up</h1>
                <form name="myForm" onsubmit="return check(event)">
                    <label for="username">Username:</label>
                    <input type="text" id="username" name="username" required><br><br>
                    <label for="password">Password:</label>
                    <input type="password" id="password" name="password" minlength="8" required><br><br>
                    <label for="password2">Confirm Password:</label>
                    <input type="password" id="password2" name="password2" minlength="8" required><br><br>
                    <label for="email">Email:</label>
                    <input type="email" id="email" name="email" required><br><br>
                    <label for="first">First Name:</label>
                    <input type="text" id="first" name="first" required><br><br>
                    <label for="last">Last Name:</label>
                    <input type="text" id="last" name="last" required><br><br>
                    <label for="dob">Date of Birth:</label>
                    <input type="date" id="dob" name="dob" required><br><br>
                    <input type="submit"  id="submit" value="Submit">
                </form>
                <button id="back" onclick="backSignUp()">Back</button>
                <script>

                    function backSignUp(){
                        
                        document.getElementById("sign up page").style.display = "none";
                        document.getElementById("welcome page").style.display = "block";
                    }
                </script>
            </div>

            <div id="game page" style="display: none;" ALIGN="center">
                <div id="timer"></div>

                <script>
                const startTime = Date.now(); // get the current time when the game starts
                const timerElement = document.getElementById("timer");

                setInterval(() => {
                const elapsedTime = Date.now() - startTime; // calculate the elapsed time
                const seconds = Math.floor(elapsedTime / 1000) ; // convert to seconds
                const minutes = Math.floor(seconds / 60); // calculate minutes
                const remainingSeconds = seconds % 60; // calculate remaining seconds
                timerElement.innerHTML = `Time elapsed: ${minutes} minutes ${remainingSeconds} seconds`;
                }, 1000); // update the timer every second
                </script>
                <script src="chicken.js"></script>
                    <div id="score"> <span id="score-value"></span></div>
                    <script>
                        const scoreElement = document.getElementById("score-value")
                        function updateScore(){
                            var points = score
                            scoreElement.innerHTML = 'Score: ' + points;
                        }
                        updateScore();
                    </script>
                <script src="chicken.js"></script>
                    <div id="lives"> <span id="lives-value"></span></div>
                    <script>
                        const lives_element = document.getElementById("lives-value")
                        function updateLives(){
                            var Lnum = lives
                            lives_element.innerHTML = 'Lives remaind: ' + Lnum;
                        }
                        updateLives();
                    </script>
                <canvas id = "theCanvas" width = "1300" height = "700"  ALIGN="center"></canvas> 
            
            </div>

            <dialog id="about">
                <div id="myAbout">About:</div>
                <button id="exit-button" onclick="closeDialog()">Close</button>
            </dialog>


            <div id="configuration" style="display: none;">
                <style>
                    #configuration {
                        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                        font-size: 20px;
                    }
                    #configuration input {
                        display: inline-block;
                        height: 30px;
                        font-size: 20px;
                        border: 1px solid #ccc;
                        border-radius: 4px;
                        
                    }
                </style>
                <form name="config" onsubmit="return  game_after_config(event)">
                    <label for="shootKeyInput">I want to shoot with:</label>
                    <input type="text" id="shootKeyInput" name="shootKeyInput" readonly>
                    <br><br>
                    <label for="gameLengthInput">Enter game length (in minutes):</label>
                    <input type="number" id="gameLengthInput" name="gameLengthInput" min="2">
                    <br><br>
                    <input type="submit" value="Start Game" >
                    <script>
    
                    </script>
            </div>
        </content>

        <footer>
            <h5>Created by: Amit Vitkovsky, Or Fuchs</h5>
        </footer>

	</body>
</html>
